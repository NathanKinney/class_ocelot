<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <style>
        body{
  background:#000;
}
canvas {
  border: 1px solid black;
  background:#000;
  width:auto;
  height:auto;
  margin: 0 auto;
}

/*No smoothing for canvas
  https://builtvisible.com/image-scaling-in-css/
*/
.pixelated {
  -ms-interpolation-mode: nearest-neighbor;
  image-rendering: -webkit-optimize-contrast;
  image-rendering: -webkit-crisp-edges;
  image-rendering: -moz-crisp-edges;
  image-rendering: -o-crisp-edges;
  image-rendering: pixelated;
}
.centered {
  position: fixed;
  top: 50%;
  left: 50%;
  -webkit-transform: translate(-50%, -50%);
  -moz-transform: translate(-50%, -50%);
  -ms-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
}


    </style>
</head>
<body>

<script>
    var t = 0,
    turn = 0,
    rot = 0,
    arms = 0.4,
    pts = 2500,
    offset = 200,
    cos = Math.cos,
    sin = Math.sin;

//Create canvas
var canvas = document.createElement('canvas');
canvas.id = 'canvas';
canvas.height = 600;
canvas.width = 600;
canvas.classList ='centered pixelated';

//append to body
document.body.appendChild(canvas);

//ctx
var ctx = canvas.getContext('2d'),
     cw = canvas.width,
     ch = canvas.height;


//draw pixels
function draw() {

    for (var i = 0; i < pts; i++) {
        var j = i / arms,
            r = sin(i / offset) * cw/3,
            x = cos(j + t),
            y = sin(j + t) * sin(rot),
            z = cos(i / offset) * cos(rot) * ch/3;
//        pixel(x * r + 64, y * r + 64 + z, (0x1000000 + (Math.random()) * 0xffffff).toString(16).substr(1, 6));
        pixel(x * r + cw/2, y * r + ch/2 + z, 'fff000');

    }
}

//Draw pixel
function pixel(x, y, colHex) {
    ctx.fillStyle = '#' + colHex;
    ctx.fillRect(x, y, 3, 3);
}

function animate() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    draw();
    t += 0.01;
    // pts += 10
    rot += 0.01;
    requestAnimationFrame(animate);
}

animate();



//Request animation frame
(function() {
    var requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame ||
        window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;
    window.requestAnimationFrame = requestAnimationFrame;
})();





</script>


</body>
</html>