<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <style>
        body {
            background-color:black
            color:white;
        }
        #grid_container {
            display:grid;
            margin:20px;
        }
    </style>

</head>
<body>

<div>
    width:<input id="width_input" type="text" value="20"/>
    height:<input id="height_input" type="text" value="20"/>
    <button id="generate_bt">generate</button>
</div>
<div>
    <button id="off_bt">turn off</button>
    <button id="randomize_bt">randomize</button>
    <button id="conway_bt">run conway's</button>
</div>

<div id="grid_container"></div>

<script>

    let grid_container = document.querySelector('#grid_container')
    let width_input = document.querySelector('#width_input')
    let height_input = document.querySelector('height_input')
    let generate_bt = document.querySelector('#generate_bt')
    let off_bt = document.querySelector('#randomize_bt')
    let conway_bt = document.querySelector('#conway_bt')
    let total_width_px = 800


    let color_off = '#101010'
    let color_on = 'goldenrod'

    class GridCell {
        constructor() {
            this.on = false;
            this.element = document.createElement('div')
            this.element.style.backgroundColor = color_off
        }
        turnOff() {
            this.on = false;
            this.element.style.backgroundColor = color_off;
        }
        turnOn() {
            this.on = true;
            this.element.style.backgroundColor = color_on;
        }
        toggle() {
            if (this.on) {
                this.on = false;
                this.element.style.backgroundColor = color_off;
            } else {
                this.on = true;
                this.element.style.backgroundColor = color_on;
            }
        }
    }

    class Grid {
        constructor(width, height) {
            this.width = width
            this.height = height
            this.cells = []

            for (let r=0; r<height; ++r) {
                this.cells.push([])
                for (let c=0; c<width; ++c) {
                    let cell = new GridCell()
                    // add an onclick listener
                    let g = this
                    cell.element.onclick = function() {
                        g.tryToggle{r, c)
                        g.tryToggle(r-1, c)
                        g.tryToggle(r+1, c)
                        g.tryToggle(r, c-1)
                        g.tryToggle(r, c+1)
                    }
                    this.cells[r].push(cell)
                    grid_container.appendChild(cell.element)
                    }
                }
            }
        }
    }


</script>
</body>
</html>