<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>


    <style>
        body {
            font-family: 'Open Sans';
            background-color: #B3B7BD
        }

        input, label {
            display:block;
        }
        .input_row {
            display:flex;
            flex-direction:row;
        }
        .input_row > div {
            padding:4px;
        }
        #key_input, input[type='number'] {
            width:60px;
        }
        label {
            font-size:12px;
        }

        button {
            color:white;
            background-color:DeepSkyBlue;
            border: none;
            padding:5px;
            border-radius:2px;
            box-shadow: 0px 2px lightgrey;
            outline: none;
        }
        button:hover {
            color:ivory;
        }
        button:active {
            transform: translateY(0.5px);
        }
        input, select {
            padding:2px;
        }
        #melody_input {
            width:400px;
        }
        .melody_row {
            width:100%;
        }
        .melody_row > div {
            width:100%;
        }

        * { box-sizing:border-box; }

        body{ margin:0; background:#B3B7BD; }
        ul {
            height:18.875em; width:34em;
            margin:5em auto; padding:3em 0 0 3em; position:relative;
            /*border:1px solid #160801; border-radius:1em;*/
            /*background:-webkit-gradient(linear, right bottom, left top, color-stop(0%,rgba(0,0,0,0.3)), color-stop(100%,rgba(0,0,0,0))), url('https://f.cl.ly/items/2q1f3t0C3R1b0g081w3n/vwood.png');*/
            box-shadow:0 0 0px rgba(0,0,0,0) inset, 0 1px rgba(212,152,125,0) inset,0 5px 15px rgba(0,0,0,0); }
        li { margin:0; padding:0; list-style:none; position:relative; float:left; }

        ul .whiteKey {
            height:16em; width:4em; z-index:1;
            border:1px solid black;
            /*border-left:1px solid #bbb;*/
            /*border-bottom:1px solid #bbb;*/
            border-radius:0 0 5px 5px;
            /*box-shadow:-1px 0 0 rgba(255,255,255,0.8) inset, 0 0 5px #ccc inset, 0 0 3px rgba(0,0,0,0.2);*/
            background: linear-gradient(top, #eee 0%,#fff 100%);
        }

        ul .whiteKey:active {
            border:1px solid black;
            /*border-top:1px solid #777;*/
            /*border-left:1px solid #999;*/
            /*border-bottom:1px solid #999;*/
            box-shadow:2px 0 3px rgba(0,0,0,0.1) inset, -5px 5px 20px rgba(0,0,0,0.2) inset,0 0 3px rgba(0,0,0,0.2);
            background: linear-gradient(top, #fff 0%,#e9e9e9 100%);
        }

        .blackKey {
            height:8em; width:2em; margin:0 0 0 -1em; z-index:3;
            background-color: rgba(0,0,0,0,.9);
            border:1px solid #000;
            border-radius:0 0 3px 3px;
            box-shadow:-1px -1px 2px rgba(255,255,255,0) inset, 0 -5px 2px 3px rgba(0,0,0,0) inset, 0 2px 4px rgba(0,0,0,0);
            /*background:linear-gradient(45deg, #222 0%,#555 100%);*/
        }

        .blackKey:active {
            box-shadow:-1px -1px 2px rgba(255,255,255,0.2) inset, 0 -2px 2px 3px rgba(0,0,0,0.6) inset, 0 1px 2px rgba(0,0,0,0.5);
            background:linear-gradient(left, #444 0%,#222 100%);
        }

        .a,.g,.f,.d,.c { margin:0 0 0 -1em;  }

        ul li:first-child { border-radius:5px 0 5px 5px; }
        ul li:last-child { border-radius:0 5px 5px 5px; }
    </style>
</head>
<body>
<!-- https://tonejs.github.io/ -->
<script src="https://tonejs.github.io/build/Tone.min.js"></script>
<link href="https://fonts.googleapis.com/css?family=Open+Sans:300" rel="stylesheet">


<h1>Aria</h1>

<div class="input_row">
    <div>
        <label for="select_scale">scale</label>
        <select id="select_scale"></select>
    </div>
    <div>
        <label for="key_input">key</label>
        <input id="key_input" type="text"/>
    </div>
    <div>
        <label for="duration_input">duration</label>
        <input id="duration_input" type="number" step="0.1"/>
    </div>
    <div>
        <label for="delay_input">delay</label>
        <input id="delay_input" type="number" step="0.1"/>
    </div>
    <div>
        <label>&nbsp;</label>
        <button id="play_bt">play</button>
        <button id="stop_bt">stop</button>
    </div>
</div>

<div class="input_row melody_row">
    <div>
        <label for="melody_input">melody</label>
        <input id="melody_input" type="text"/>
    </div>
</div>

<div id="section_titles">
    <p>Set range of generated notes.
    </p>
</div>

<div class="input_row">
    <div>
        <label for="lower_bound_input">lower bound</label>
        <input id="lower_bound_input" type="number"/>
    </div>
    <div>
        <label for="upper_bound_input">upper bound</label>
        <input id="upper_bound_input" type="number"/>
    </div>
    <div>
        <label for="n_notes_input">notes</label>
        <input id="n_notes_input" type="number"/>
    </div>
    <div>
        <label>&nbsp;</label>
        <button id="generate_bt">generate</button>
    </div>
</div>
<div id="history_div">
</div>


<div>

    <ul>
        <li class="white b"></li>
        <li class="black as"></li>
        <li class="white a"></li>
        <li class="black gs"></li>
        <li class="white g"></li>
        <li class="black fs"></li>
        <li class="white f"></li>
        <li class="white e"></li>
        <li class="black ds"></li>
        <li class="white d"></li>
        <li class="black cs"></li>
        <li class="white c"></li>
    </ul>
</div>

<script src="../Aria.js"></script>

<script>
    var keyboard = document.getElementById('keyboard');

    var pattern = [1,1,0,1,1,0,1];
    //var pattern = [1,1,1,1,1,1,1];
    var n_white_keys = 52;
    var key_width = 100/n_white_keys;
    var white_key_height = 100;
    var black_key_height = 50;


    var id = 0;
    for (var i=0; i<n_white_keys; ++i) {

        if (i != 0 && pattern[i%pattern.length] == 1) {
            var black_key = document.createElement('div');
            black_key.style.backgroundColor = 'black';
            black_key.style.width = (key_width-0.4)+'%';
            black_key.style.height = black_key_height+'px';
            black_key.style.zIndex = 2;
            black_key.style.position = 'absolute';
            black_key.style.top = 0;
            black_key.style.transform = 'translateX(-50%)';
            black_key.style.left = (i*(key_width))+'%';
            black_key.id = id;
            id += 1;
            keyboard.appendChild(black_key);
        }

        var white_key = document.createElement('div');
        white_key.classList.add('whitekey');
        white_key.style.position = 'absolute';
        white_key.style.left = i*(key_width)+'%';
        white_key.style.top = 0;
        white_key.style.width = key_width+'%';
        white_key.style.height = white_key_height+'px';
        white_key.id = id.toString();
        id += 1;
        keyboard.appendChild(white_key);

    }








</script>

<div id="keyboard"></div>



</body>
</html>