<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <script>

        function addContainer() {
            let div = document.createElement('div')
            div.style.display = 'flex'
            div.style.flexDirection = 'row'
            for (let i=0; i<10; ++i) {
                let minidiv = document.createElement('div')
                minidiv.style.width = '40px'
                minidiv.style.height = '40px'
                minidiv.style.margin = '2px'
                setRandomColor(minidiv)

                minidiv.onclick = function() {

                    if (this.dataset.interval) {
                        clearInterval(this.dataset.interval)
                        this.dataset.interval = ''
                    } else {
                        minidiv.dataset.interval = setInterval(function() {
                            setRandomColor(minidiv)
                        }, 1000)
                    }
                }


                div.appendChild(minidiv)
            }
            document.body.appendChild(div)
        }

        addContainer()
        addContainer()
        addContainer()_



    </script>
</head>
<body>

</body>
</html>