<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Smart Sort</title>
    <script>
        function random_list(n) {
            let lst = []
            for (let i = 0; i < n; i++) {
                lst.push(Math.floor(Math.random() * 100))
            }
            return lst
        }

        function is_sorted(lst) {
            for (let i = 0; i < lst.length; i++) {
                if (lst[i - 1] > lst[i]) {return false}
            }
            return true
        }

        function accuracy(lst) {
            let y = 0
            for (let i = 0; i < lst.length; i++) {
                if (lst[i - 1] <= lst[i]) {y += 1}
            }
            return y / lst.length
        }

        let i = 0, r1 = 0, r2 = 0
        let b_acc = 0, t_acc = 0
        let b_lst = random_list(20)
        let t_lst = []
        while (! is_sorted(b_lst)) {
            t_lst = b_lst.slice()
            r1 = Math.floor(Math.random() * t_lst.length)
            r2 = Math.floor(Math.random() * t_lst.length)
            t_lst[r1] = b_lst[r2]
            t_lst[r2] = b_lst[r1]
            t_acc = accuracy(t_lst)
            if (t_acc >= b_acc) {
                b_acc = t_acc
                b_lst = t_lst.slice()
            }
            i += 1
        }

        console.log(`That took ${i} tries`)
    </script>

</head>
<body>

</body>
</html>