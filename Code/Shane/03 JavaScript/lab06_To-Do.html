<head>
</head>
<body>
<script>

    document.body.style.backgroundColor = 'black'

    let container = document.createElement('div')
    container.style.color = 'white'
    document.body.appendChild(container)
    container.innerText = 'Add a thing to do here in the text field.\nPress enter or hit the button.'
    container.style.fontSize = '40px'
    container.style.textAlign = 'center'
    container.style.margin = '222px'

    let top_div = document.createElement('div')
    container.appendChild(top_div)

    let text_field = document.createElement('input')
    text_field.setAttribute('type', 'text')
    text_field.style.fontSize = '30px'
    text_field.style.border = '1px dotted white'
    top_div.appendChild(text_field)

    let accept_btn = document.createElement('button')
    accept_btn.style.backgroundColor = 'white'
    accept_btn.style.border = '1px dotted white'
    accept_btn.innerText = 'Add'
    accept_btn.style.margin = '10px'
    accept_btn.style.fontSize = '30px'
    accept_btn.style.color = 'black'
    accept_btn.style.cursor = 'help'
    top_div.appendChild(accept_btn)

    let mid_container = document.createElement('div')
    mid_container.style.display = 'flex'
    mid_container.style.flexDirection = 'row'
    container.appendChild(mid_container)

    let mid_div_left = document.createElement('div')
    mid_div_left.innerText = 'To-Do'
    mid_div_left.style.width = '50%'
    mid_container.appendChild(mid_div_left)

    let mid_div_right = document.createElement('div')
    mid_div_right.style.width = '50%'
    mid_div_right.innerText = 'Complete'
    mid_container.appendChild(mid_div_right)

    let bottom_div = document.createElement('div')
    bottom_div.style.display = 'flex'
    bottom_div.style.flexDirection = 'row'
    bottom_div.style.height = '100%'
    bottom_div.style.width = '100%'
    container.appendChild(bottom_div)

    let left_div = document.createElement('div')
    left_div.style.fontSize = '20px'
    left_div.style.color = 'white'
    left_div.innerText = "Left-click to complete\nRight-click to remove"
    left_div.style.width = '50%'
    bottom_div.appendChild(left_div)

    let right_div = document.createElement('div')
    right_div.style.fontSize = '20px'
    right_div.style.color = 'white'
    right_div.innerText = 'Right-click to remove\nLeft-click to move back to to-do'
    right_div.style.width = '50%'
    bottom_div.appendChild(right_div)

    let to_do_list = document.createElement('ul')
    to_do_list.style.listStyleImage = 'url(https://media.giphy.com/media/mHwtkXN4fwAdq/giphy.gif)'
    to_do_list.style.fontSize = '30px'
    left_div.appendChild(to_do_list)

    let completed = document.createElement('ul')
    completed.style.listStyleImage = 'url(https://media.giphy.com/media/yzVlntFaL1GNi/giphy.gif)'
    completed.style.fontSize = '30px'
    right_div.appendChild(completed)

    function clear(){
        text_field.value = ''
    }

    text_field.addEventListener('keydown', function(event) {
        if (text_field.value){
            if (event.which === 13){
                to_do_add(text_field.value)
                clear()}
        }
    })

    accept_btn.onclick = function(){
        if (text_field.value){
            to_do_add(text_field.value)
            clear()
        }
        text_field.focus()
    }

    function to_do_add(item) {
        let ul = to_do_list
        let li = document.createElement("li")
        let children = ul.children.length + 1
        li.setAttribute('id', 'to_do'+children)
        console.log(li)
        li.appendChild(document.createTextNode(item))
        ul.appendChild(li)
        li.oncontextmenu = function () {
            this.remove()
        }

        li.onclick = function (){
            completed_add(li.innerText)
            this.remove()
        }
    }

    function completed_add(item){
        let ul = completed
        let li = document.createElement("li")
        let children = ul.children.length + 1
        li.setAttribute('id', 'to_do'+children)
        console.log(li)
        li.appendChild(document.createTextNode(item))
        ul.appendChild(li)
        li.oncontextmenu = function () {
            this.remove()
        }
        li.onclick = function() {
            to_do_add(li.innerText)
            this.remove()
        }
    }

</script>
</body>
</html>
