<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>tts++</title>

    <style>
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }

        .switch input {
            display: none;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
        }

        input:checked + .slider {
            background-color: #2196F3;
        }

        input:focus + .slider {
            box-shadow: 0 0 1px #2196F3;
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        .slider.round {
            border-radius: 34px;
        }

        .slider.round:before {
            border-radius: 50%;
        }

        #license {
            font-size: 5px;
        }
    </style>

</head>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="http://code.responsivevoice.org/responsivevoice.js"></script>
<body>

<div id="app">
  {{ message }}
</div>

<!--<div>-->

<!--<label class="switch">-->
    <!--<input type="checkbox">-->
    <!--<span class="slider round"></span>-->
<!--</label>-->

<!--<label class="switch">-->
    <!--<input type="checkbox" checked for="this">-->
    <!--<span class="slider round"></span>-->
<!--</label>-->

<!--<input type="radio" id="contactChoice1"-->
       <!--name="contact" value="Automatic">-->

<!--<input type="radio" id="contactChoice2"-->
       <!--name="contact" value="phone">-->

<!--<input type="radio" id="contactChoice3"-->
       <!--name="contact" value="mail">-->

<!--<button type="submit">Submit</button>-->

<!--&lt;!&ndash;name of the cussed&ndash;&gt;-->
<!--<input id="to_person" onfocus="this.value=''" value="Name of your favorite Person">-->
<!--</div>-->

<script>


</script>


<script>
    var app = new Vue({
        el: '#app',
        data: {
            message: 'Hello Vue!'
        },
        methods: {

        },
        created: function() {
            let all_url = 'https://www.foaas.com/operations'
            let name_to = 'You'
            let name_from = 'Shane'
            let full_url = base_url = 'https://www.foaas.com'
                console.log(base_url)

            function getRandomInt(min, max) {
                return Math.floor(Math.random() * (max - min + 1)) + min
            }

            function http_get(url, success) {
                let xhttp = new XMLHttpRequest()
                xhttp.onreadystatechange = function () {
                    if (this.readyState === 4 && this.status === 200) {
                        console.log('RAW RESPONSE')
                        console.log(xhttp.responseText)
                        let data = JSON.parse(xhttp.responseText)
                        success(data)

                    }
                }
                xhttp.open("GET", url)
                xhttp.setRequestHeader('Accept', 'application/json')
                xhttp.send()
            }


            http_get(all_url, function (data) {

                mydata = data

                let r_full_url = ''

                full_url += data[getRandomInt(0,data.length-1)].url
                console.log(full_url)

                if(full_url.includes('from')){
                    r_full_url = full_url.replace('from',name_from)
                }

                http_get(r_full_url, function (data) {
                    console.log(data)
                })
                responsiveVoice.speak(data[21].name)
            })


        }
    })
</script>

</body>
</html>